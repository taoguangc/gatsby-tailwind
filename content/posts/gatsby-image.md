---
title: 使用 Gatsby 轻松实现图像优化
date: 2021-02-15T12:11:12.204Z
tags:
  - JavaScript
categories: dev
description: 使用为图像构建的简单易用的React组件，节省了工作时间。优化图像听起来并不像一个理想的工作下午，但是在当今世界，它已成为必不可少的事情。这篇文章着眼于如何是可以做到的太多容易使用的盖茨比形象。
---
使用为图像构建的简单易用的React组件，节省了工作时间。优化图像听起来并不像一个理想的工作下午，但是在当今世界，它已成为必不可少的事情。这篇文章着眼于如何是可以做到的太多容易使用的盖茨比形象。

有关本教程中使用的方法的实际示例，请查看此免费的Egghead视频播放列表，其中显示了如何使用Gatsby Image：

抽出时间来裁剪下来一个LL你的照片不同大小，摆弄色彩深度和压缩你的PNG和JPEG，写媒体查询的所有不同的尺寸，甚至在图像的延迟加载增加可能会非常耗时和费力乏味的。另一方面，图像优化的结果可能意味着站点更快，移动设备上的请求大小更小，用户总体上更快乐。
“…优化图像通常可以节省一些最大的字节并提高性能”
― Google PageSpeed文档
输入gatsby-image！一个为Gatsby.js设计的React组件，它是一种轻松的方法，可以为您的站点添加高级图像优化，而不必经历所有麻烦。

较高分辨率的图像通常像第一个示例一样加载，显示了丑陋的背景并花费了宝贵的毫秒加载时间。
延迟加载图像或加载较小的占位符已成为改善站点整体UX的标准方法。Facebook开始将其用作一种技术，以解决坚实背景突然转变成图像的刺耳，令人不安的问题。中型网站还使用模糊的图像来保留网站的布局，以使图像在加载时不会在页面下方撞到文本或其他DOM元素。

用例

在盖茨比（Gatsby）建立演示餐厅网站时，我遇到了一些性能问题，这些问题几乎都源于Unsplash的一些过大图像。我实际上并不需要4000x6000 JPEG填充屏幕的英雄部分，但我的<img>标签会相反。在Chrome开发者工具中进行了Lighthouse Performance审核后，我的网站在100分中满分为32分。
图片发布图片发布
我的网站上绩效审核的结果平庸
盖茨比最大的卖点之一是它产生的静态网站“快速”运行。我的项目是一个令人失望的例外。通过实施gatsby映像，我认为我的32位数可以得到显着改善。

实作
我的项目基于gatsby-starter-default启动程序，因此我通过安装并验证我是否拥有所需的软件包来开始使用gatsby-image。要使用yarn安装gatsby-image插件，请运行：

yarn add gatsby-image

gatsby-image插件还可以另外要求安装插件gatsby-transformer-sharp和gatsby-plugin-sharp并将其添加到配置文件中。为此，我运行了：

yarn add gatsby-transformer-sharp
yarn add gatsby-plugin-sharp

然后打开“我的”，gatsby-config.js并包含以下（粗体）代码段：